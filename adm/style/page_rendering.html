{%- extends '@marttiphpbb_calendartableview/base.html' -%}

{%- block heading -%}
	{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_PAGE_RENDERING') -}}
{%- endblock -%}

{%- block form_content -%}

	<fieldset>
		<legend>
			{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_TABLES') -}}
		</legend>

		{%- embed '@marttiphpbb_calendartableview/include/number.html' -%}
			{%- block label -%}
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_TABLE_COUNT') -}}
			{%- endblock -%}
			{%- block name -%}
				table_count
			{%- endblock -%}
			{%- block value -%}
				{{- TABLE_COUNT -}}
			{%- endblock -%}
			{%- block attr %} min="1" max="10"{%- endblock -%}
		{%- endembed -%}

		{%- embed '@marttiphpbb_calendartableview/include/number.html' -%}
			{%- block label -%}
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_TABLE_DAY_COUNT') -}}
			{%- endblock -%}
			{%- block name -%}
				table_day_count
			{%- endblock -%}
			{%- block value -%}
				{{- TABLE_DAY_COUNT -}}
			{%- endblock -%}
			{%- block attr %} min="7" max="28"{%- endblock -%}
		{%- endembed -%}

	</fieldset>

	<fieldset>
		<legend>
			{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_EVENT_ROWS') -}}
		</legend>

		{%- embed '@marttiphpbb_calendartableview/include/number.html' -%}
			{%- block label -%}
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_MIN_ROW_COUNT') -}}
			{%- endblock -%}
			{%- block name -%}
				min_row_count
			{%- endblock -%}
			{%- block value -%}
				{{- MIN_ROW_COUNT -}}
			{%- endblock -%}
			{%- block attr %} min="1"{%- endblock -%}
		{%- endembed -%}

		{%- embed '@marttiphpbb_calendartableview/include/number.html' -%}
			{%- block label -%}
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_MAX_ROW_COUNT') -}}
			{%- endblock -%}
			{%- block name -%}
				max_row_count
			{%- endblock -%}
			{%- block value -%}
				{{- MAX_ROW_COUNT -}}
			{%- endblock -%}
			{%- block attr %} min="1"{%- endblock -%}
		{%- endembed -%}
	</fieldset>

	<fieldset>
		<legend>
			{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_HILIT') -}}
		</legend>

		{%- embed '@marttiphpbb_calendartableview/include/radio.html' with {'checked': SHOW_TODAY} only -%}
			{%- block label -%}
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_TODAY') -}}
			{%- endblock -%}
			{%- block name -%}
				show_today
			{%- endblock -%}
		{%- endembed -%}

		{%- embed '@marttiphpbb_calendartableview/include/radio.html' with {'checked': TOPIC_HILIT} only -%}
			{%- block label -%}
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_TOPIC_HILIT') -}}
			{%- endblock -%}
			{%- block explain -%}
				<br>
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_TOPIC_HILIT_EXPLAIN') -}}
			{%- endblock -%}
			{%- block name -%}
				topic_hilit
			{%- endblock -%}
		{%- endembed -%}
	</fieldset>

	<fieldset>
		<legend>
			{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_HEADER') -}}
		</legend>

		{%- embed '@marttiphpbb_calendartableview/include/radio.html' with {'checked': HEADER_EN} only -%}
			{%- block label -%}
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_HEADER_EN') -}}
			{%- endblock -%}
			{%- block name -%}
				header_en
			{%- endblock -%}
		{%- endembed -%}

		{%- embed '@marttiphpbb_calendartableview/include/sort_select.html' -%}
			{%- block name -%}
				header_rows
			{%- endblock -%}
			{%- block used -%}
				{%- for l in header -%}
					{%- embed '@marttiphpbb_calendartableview/include/li_sort_select.html' -%}
					{%- endembed -%}
				{%- endfor -%}
			{%- endblock -%}
			{%- block not_used -%}
				{%- for l in header_not_used -%}
					{%- embed '@marttiphpbb_calendartableview/include/li_sort_select.html' -%}
					{%- endembed -%}
				{%- endfor -%}
			{%- endblock -%}
		{%- endembed -%}

	</fieldset>

	<fieldset>
		<legend>
			{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_REPEATED_HEADER') -}}
		</legend>

		{%- embed '@marttiphpbb_calendartableview/include/radio.html' with {'checked': REPEATED_HEADER_EN} only -%}
			{%- block label -%}
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_REPEATED_HEADER_EN') -}}
			{%- endblock -%}
			{%- block name -%}
				repeated_header_en
			{%- endblock -%}
		{%- endembed -%}

		{%- embed '@marttiphpbb_calendartableview/include/number.html' -%}
			{%- block label -%}
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_REPEATED_HEADER_NUM_ROWS') -}}
			{%- endblock -%}
			{%- block name -%}
				repeated_header_num_rows
			{%- endblock -%}
			{%- block value -%}
				{{- REPEATED_HEADER_NUM_ROWS -}}
			{%- endblock -%}
			{%- block attr %} min="5"{%- endblock -%}
		{%- endembed -%}

		{%- embed '@marttiphpbb_calendartableview/include/number.html' -%}
			{%- block label -%}
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_REPEATED_HEADER_OMIT_ROWS') -}}
			{%- endblock -%}
			{%- block name -%}
				repeated_header_omit_rows
			{%- endblock -%}
			{%- block value -%}
				{{- REPEATED_HEADER_OMIT_ROWS -}}
			{%- endblock -%}
			{%- block attr %} min="5"{%- endblock -%}
		{%- endembed -%}

		{%- embed '@marttiphpbb_calendartableview/include/sort_select.html' -%}
			{%- block name -%}
				repeated_header_rows
			{%- endblock -%}
			{%- block used -%}
				{%- for l in repeated_header -%}
					{%- embed '@marttiphpbb_calendartableview/include/li_sort_select.html' -%}
					{%- endembed -%}
				{%- endfor -%}
			{%- endblock -%}
			{%- block not_used -%}
				{%- for l in repeated_header_not_used -%}
					{%- embed '@marttiphpbb_calendartableview/include/li_sort_select.html' -%}
					{%- endembed -%}
				{%- endfor -%}
			{%- endblock -%}
		{%- endembed -%}
	</fieldset>

	<fieldset>
		<legend>
			{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_FOOTER') -}}
		</legend>

		{%- embed '@marttiphpbb_calendartableview/include/radio.html' with {'checked': FOOTER_EN} only -%}
			{%- block label -%}
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_FOOTER_EN') -}}
			{%- endblock -%}
			{%- block name -%}
				footer_en
			{%- endblock -%}
		{%- endembed -%}

		{%- embed '@marttiphpbb_calendartableview/include/sort_select.html' -%}
			{%- block name -%}
				footer_rows
			{%- endblock -%}
			{%- block used -%}
				{%- for l in footer -%}
					{%- embed '@marttiphpbb_calendartableview/include/li_sort_select.html' -%}
					{%- endembed -%}
				{%- endfor -%}
			{%- endblock -%}
			{%- block not_used -%}
				{%- for l in footer_not_used -%}
					{%- embed '@marttiphpbb_calendartableview/include/li_sort_select.html' -%}
					{%- endembed -%}
				{%- endfor -%}
			{%- endblock -%}
		{%- endembed -%}
	</fieldset>

	<fieldset>
		<legend>
			{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_WEEKDAY') -}}
		</legend>

		{%- embed '@marttiphpbb_calendartableview/include/number.html' -%}
			{%- block label -%}
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_WEEKDAY_MAX_CHAR_COUNT') -}}
			{%- endblock -%}
			{%- block name -%}
				weekday_max_char_count
			{%- endblock -%}
			{%- block value -%}
				{{- WEEKDAY_MAX_CHAR_COUNT -}}
			{%- endblock -%}
			{%- block attr %} min="1" max="20"{%- endblock -%}
		{%- endembed -%}
	</fieldset>

	<fieldset>
		<legend>
			{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_TIME_FORMAT') -}}
		</legend>
		<p>
			{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_TIME_FORMAT_EXPLAIN') -}}
		</p>

		{%- embed '@marttiphpbb_calendartableview/include/radio.html' with {'checked': DERIVE_USER_TIME_FORMAT} only -%}
			{%- block label -%}
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_DERIVE_USER_TIME_FORMAT') -}}
			{%- endblock -%}
			{%- block explain -%}
				<br>
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_DERIVE_USER_TIME_FORMAT_EXPLAIN') -}}
			{%- endblock -%}
			{%- block name -%}
				derive_user_time_format
			{%- endblock -%}
		{%- endembed -%}

		{%- embed '@marttiphpbb_calendartableview/include/text.html' -%}
			{%- block label -%}
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_DEFAULT_TIME_FORMAT') -}}
			{%- endblock -%}
			{%- block explain -%}
				<br>
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_DEFAULT_TIME_FORMAT_EXPLAIN', '<a href="http://php.net/manual/en/function.date.php">', '</a>') -}}
			{%- endblock -%}
			{%- block name -%}
				default_time_format
			{%- endblock -%}
			{%- block value -%}
				{{- DEFAULT_TIME_FORMAT -}}
			{%- endblock -%}
		{%- endembed -%}
	</fieldset>

	<fieldset>
		<legend>
			{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_STYLESHEET') -}}
		</legend>

		{%- embed '@marttiphpbb_calendartableview/include/radio.html' with {'checked': LOAD_STYLESHEET} only -%}
			{%- block label -%}
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_LOAD_STYLESHEET') -}}
			{%- endblock -%}
			{%- block explain -%}
				<br>
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_LOAD_STYLESHEET_EXPLAIN') -}}
			{%- endblock -%}
			{%- block name -%}
				load_stylesheet
			{%- endblock -%}
		{%- endembed -%}

		{%- embed '@marttiphpbb_calendartableview/include/text.html' -%}
			{%- block label -%}
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_EXTRA_STYLESHEET') -}}
			{%- endblock -%}
			{%- block explain -%}
				<br>
				{{- lang('ACP_MARTTIPHPBB_CALENDARTABLEVIEW_EXTRA_STYLESHEET_EXPLAIN') -}}
			{%- endblock -%}
			{%- block name -%}
				extra_stylesheet
			{%- endblock -%}
			{%- block value -%}
				{{- EXTRA_STYLESHEET -}}
			{%- endblock -%}
		{%- endembed -%}
	</fieldset>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.10.1/Sortable.min.js" integrity="sha256-9D6DlNlpDfh0C8buQ6NXxrOdLo/wqFUwEB1s70obwfE=" crossorigin="anonymous"></script>

	{%- INCLUDEJS '@marttiphpbb_calendartableview/js/sort_select.js' -%}

{%- endblock form_content -%}
